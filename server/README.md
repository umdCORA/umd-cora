#  UMD-CORA-EXPRESS
Expressjs backend for use with UMD-CORA. Integration of MongoDB for CRUD operations alongside serving static content. Created by Jason L.
## API
All routing goes through `/api/v1`.
HTTP requests dictate user actions as per standard on the endpoints `api/v1/data/resources` or `api/v1/data/users`.
### Content/Schema
- Resources
	```
	{
		"name": "Calvert Substance Abuse Services",
		
		"location": {
			"address": "280 Stafford Road",
			"city": "Prince Frederick",
			"zipcode": "20610",
			"state": "MD"
		},
		
		"contact": {
			"coordinator": "Ashley Staples",
			"phone": "410-535-3079",
			"email": "Ashley.Staples@maryland.gov"
		},
		
		"services": ["Adult drug testing", "Rehab services", "etc"],
		
		"description": "Some description that correctly gives details on
		other things that cannot be quantified with current data.",
		
		"meta": {
			"votes": 0,
			"votes_positive": 0,
			"votes_negative": 0
		},
		
		"tags": ["Family", "Group", "Testing", "Adult", "Alcohol"]
	}
- Users
- Static Content
	- Client
	- Error page
	- CSV
	- Logos
### Getting
Summary: Returns list of all entries matching request query. To get by ObjectID, simply send GET to `/foo` where foo is the ObjectID literal. To query, see query section.
* Request type: GET
* Request body: None
* Response type: application/JSON
* Querying: YES
* Security: All
	* Allowed roles: all
### Creating
Summary: Sending a POST request to the data endpoint creates a new resource. The body must contain at least an empty name and location in order to generate. Everything else can be omitted and will automatically be generated.
* Request type: POST
* Request body: application/JSON
	* Required fields: name, location
	* Autogenerated fields: contact, services, description, meta
	* All non-defined content is ignored
* Response type: application/JSON
* Querying: NO
* Security: TBD
	* Allowed roles: TBD
### Deleting
Summary: Sending a DELETE request has two possible outcomes depending on endpoint it is sent to. Sending a delete request directly to `data/resources` or `data/users` will delete ALL entries. Sending a delete to `data/resources/FOO` or `data/users/FOO`, where foo is the ObjectID literal, will delete a single entry of the matching ObjectID.
* Request type: DELETE
* Request body: None
* Response type: application/JSON
* Querying: YES
* Security: TBD
	* Allowed roles: TBD
### Updating
Summary: Sending a PUT request will update an entire entry. Proper usage is for updating the entire document with new data, but it can be used to update a single value (PATCH is the preferred method).  The endpoint is unique because it *requires* an ObjectID literal in the endpoint: `data/resources/FOO` or `data/users/FOO`.
* Request type: PUT
* Request body: application/JSON
	* Required fields: none
	* To update include basic structure of values and values to be updated
	```
	{
		"name" : "a new name",
		"location": {
			"address": "some new address"
		},
		
	}
	```
	* Autogenerated fields: none
* Response type: application/JSON
* Querying: NO
* Security: TBD
	* Roles: TBD
### Updating single value
Summary: NOT IMPLEMENTED YET
* Request type: PATCH
* Request body: application/JSON
	* Required fields: none
	* Include single update value
	* Autogenerated values: none
* Response type: application/JSON
* Querying: NO
* Security: TBD
	* Allowed roles: TBD
### Querying
Querying is done through the URL parameters: 
`localhost:8080/endpoint?key1=val1&key2=val2&key3=val3`

### Security
### Error Handling
## Client